<div class="overflow-x-auto">
  <table class="min-w-full divide-y divide-gray-200 bg-white shadow-md rounded-lg">
    <thead class="bg-gray-50">
      <tr>
        <th *ngFor="let column of columns"
            [ngClass]="{'cursor-pointer': column.sortable}"
            (click)="column.sortable ? sortData(column.field) : null"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
          {{ column.header }}
          <span *ngIf="sortField === column.field" class="inline">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path *ngIf="sortOrder === 'asc'" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>
              <path *ngIf="sortOrder === 'desc'" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </span>
        </th>
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
      <tr *ngFor="let item of data; let rowIndex = index">
        <td *ngFor="let column of columns" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
          <ng-container *ngIf="editCell?.rowIndex === rowIndex && editCell?.columnField === column.field">
            <input 
              type="text" 
              [(ngModel)]="tempValue" 
              (blur)="saveEdit()" 
              (keydown.enter)="saveEdit()" 
              class="px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
            <button (click)="cancelEdit()" class="bg-red-500 text-white px-3 py-1 rounded-md ml-2 hover:bg-red-600">Cancel</button>
          </ng-container>
          <ng-container *ngIf="!(editCell?.rowIndex === rowIndex && editCell?.columnField === column.field)">
            <span *ngIf="column.field !== 'actions'" (click)="startEdit(rowIndex, column.field, item[column.field])" class="cursor-pointer hover:text-blue-500">{{ item[column.field] }}</span>
          </ng-container>
          <!-- Display actions column only if column.field is 'actions' -->
          <ng-container *ngIf="column.field === 'actions'">
            <button (click)="onUpdate(item)" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Update</button>
            <button (click)="onDelete(item)" class="bg-red-500 text-white px-4 py-2 rounded-md ml-2 hover:bg-red-600">Delete</button>
          </ng-container>
        </td>
      </tr>
    </tbody>
  </table>

<!-- Pagination controls -->
<app-pagination 
  [currentPage]="currentPage" 
  [totalPages]="totalPages" 
  (pageChange)="goToPage($event)"
></app-pagination>




